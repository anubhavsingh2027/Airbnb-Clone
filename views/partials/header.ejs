<!-- Loader -->
<div
  id="loader"
  class="fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-r from-gray-50 to-white transition-opacity duration-500"
>
  <div class="text-center px-6 max-w-2xl">
    <div class="mb-8">
      <div
        class="w-16 h-16 mx-auto border-4 border-gray-200 border-t-[#FF385C] rounded-full animate-spin"
      ></div>
    </div>
    <h1
      class="text-3xl font-bold mb-4 bg-gradient-to-r from-[#FF385C] to-pink-600 bg-clip-text text-transparent animate-pulse"
    >
      Welcome to Airbnb Clone
    </h1>
    <p class="text-gray-600 text-lg leading-relaxed mb-6 animate-fade-in">
      This website is created for educational purposes, showcasing modern web
      development techniques and best practices.
    </p>
  </div>
</div>

<header
  class="bg-white bg-opacity-90 backdrop-filter backdrop-blur-lg text-gray-800 py-4 shadow-lg sticky top-0 z-50"
>
  <div
    class="absolute inset-0 bg-gradient-to-r from-red-50 via-white to-pink-50 opacity-50"
  ></div>
  <nav class="container mx-auto px-4 relative">
    <div class="flex flex-col w-full">
      <!-- Top Bar with Logo and Mobile Menu Button -->
      <div class="flex justify-between items-center">
        <!-- Logo -->
        <div class="group">
          <a
            href="/"
            class="flex items-center space-x-3 transform hover:scale-105 transition-all duration-300 ease-out"
          >
            <div class="relative overflow-hidden rounded-full">
              <div
                class="absolute inset-0 bg-gradient-to-r from-red-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"
              ></div>
              <img
                src="https://th.bing.com/th/id/R.d97d73f5e73dfe85f5cce6558429ebb5?rik=6Y393%2b4rAkA2Xg&riu=http%3a%2f%2fpluspng.com%2fimg-png%2fairbnb-logo-png-airbnb-logo-1600.png&ehk=WAmNzwdvuNRieYe57EPvJlUkIJzLt9Bd0hT0HaEgsvs%3d&risl=&pid=ImgRaw&r=0"
                alt="Airbnb Logo"
                class="h-12 w-auto object-contain transform group-hover:scale-110 transition-transform duration-300"
              />
            </div>
            <span class="text-2xl md:text-3xl font-bold relative">
              <span
                class="absolute inset-0 bg-gradient-to-r from-red-500 to-pink-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-lg"
              ></span>
              <span
                class="relative bg-gradient-to-r from-red-500 via-pink-500 to-red-500 bg-clip-text text-transparent bg-[length:200%_auto] group-hover:bg-[center_right_1rem] transition-all duration-500"
              >
                Airbnb
              </span>
            </span>
          </a>
        </div>

        <!-- Mobile Menu Button -->
        <button
          onclick="toggleMobileMenu()"
          class="md:hidden p-2 rounded-lg bg-white/80 hover:bg-red-50 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400 group shadow-sm hover:shadow-md"
        >
          <svg
            class="w-6 h-6 text-gray-600 group-hover:text-red-500 transition-colors duration-300"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </button>
      </div>

      <% if(currentpage==='index' || currentpage==='homes' ||
      currentpage==='host-homes'){ %>
      <div class="w-full my-4">
        <div class="relative group">
          <input
            id="search"
            type="text"
            placeholder="Search homes..."
            class="w-full px-6 py-3.5 rounded-full border border-gray-200/80 bg-white/80 backdrop-blur-sm focus:outline-none focus:border-red-300 focus:ring-2 focus:ring-red-200 shadow-sm group-hover:shadow-md text-gray-700 placeholder-gray-400 transition-all duration-300 relative"
          />
          <div
            class="absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400"
          >
            <svg
              class="w-5 h-5 group-hover:text-red-500 transition-colors duration-300"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
          </div>
        </div>
      </div>

      <% } %>
      <!-- Mobile Menu -->
      <div id="mobileMenu" class="hidden md:block w-full">
        <ul
          class="flex flex-col md:flex-row md:flex-wrap justify-center items-center gap-3 md:gap-6"
        >
          <% if(isLoggedIn){ %> <%if(user && user.userType==='guest') {%>
          <li>
            <a
              href="/user/home-list"
              class="group relative px-3 py-2 text-lg font-medium transition-all duration-300 ease-in-out"
            >
              <span
                class="<%= currentpage === 'homes' ? 'text-red-500' : 'text-gray-600 group-hover:text-red-500' %> transition-colors duration-300"
              >
                Home</span
              >
              <span
                class="absolute left-0 bottom-0 h-[2px] w-0 bg-red-500 transition-all duration-300 group-hover:w-full <%= currentpage === 'homes' ? 'w-full' : '' %>"
              ></span>
            </a>
          </li>

          <li>
            <a
              href="/user/favourite"
              class="group relative px-3 py-2 text-lg font-medium transition-all duration-300 ease-in-out"
            >
              <span
                class="<%= currentpage === 'favourite' ? 'text-red-500' : 'text-gray-600 group-hover:text-red-500' %> transition-colors duration-300"
              >
                Favorites</span
              >
              <span
                class="absolute left-0 bottom-0 h-[2px] w-0 bg-red-500 transition-all duration-300 group-hover:w-full <%= currentpage === 'favourite' ? 'w-full' : '' %>"
              ></span>
            </a>
          </li>

          <% if(currentpage=='booking' ){ %>

          <li>
            <a
              href="/user/booking"
              class="group relative px-3 py-2 text-lg font-medium transition-all duration-300 ease-in-out"
            >
              <span
                class="<%= currentpage === 'booking' ? 'text-red-500' : 'text-gray-600 group-hover:text-red-500' %> transition-colors duration-300"
              >
                Booking</span
              >
              <span
                class="absolute left-0 bottom-0 h-[2px] w-0 bg-red-500 transition-all duration-300 group-hover:w-full <%= currentpage === 'booking' ? 'w-full' : '' %>"
              ></span>
            </a>
          </li>

          <% } %> <%} else { %>

          <li>
            <a
              href="/host/host-home-list"
              class="group relative px-3 py-2 text-lg font-medium transition-all duration-300 ease-in-out"
            >
              <span
                class="<%= currentpage === 'host-homes' ? 'text-red-500' : 'text-gray-600 group-hover:text-red-500' %> transition-colors duration-300"
              >
                Host Homes</span
              >
              <span
                class="absolute left-0 bottom-0 h-[2px] w-0 bg-red-500 transition-all duration-300 group-hover:w-full <%= currentpage === 'host-homes' ? 'w-full' : '' %>"
              ></span>
            </a>
          </li>

          <li>
            <a
              href="/host/add-home"
              class="group relative px-3 py-2 text-lg font-medium transition-all duration-300 ease-in-out"
            >
              <span
                class="<%= currentpage === 'add-home' ? 'text-red-500' : 'text-gray-600 group-hover:text-red-500' %> transition-colors duration-300"
              >
                Add Home</span
              >
              <span
                class="absolute left-0 bottom-0 h-[2px] w-0 bg-red-500 transition-all duration-300 group-hover:w-full <%= currentpage === 'add-home' ? 'w-full' : '' %>"
              ></span>
            </a>
          </li>
          <%} } %>

          <!-- Auth Buttons -->
          <div class="flex items-center gap-4 mt-4 md:mt-0">
            <% if (!isLoggedIn) { %>
            <a
              href="/login"
              class="px-6 py-2 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-md hover:shadow-xl"
              >Login</a
            >
            <a
              href="/signup"
              class="px-6 py-2 rounded-full border-2 border-red-500 text-red-500 hover:bg-red-50"
              >Sign Up</a
            >
            <% } else { %>
            <form action="/logout" method="post" class="w-full md:w-auto">
              <button
                type="submit"
                class="px-6 py-2 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-md hover:shadow-xl flex items-center gap-2"
              >
                <span class="text-blue-200 font-semibold"
                  ><%=user.firstName %></span
                >
                <span>Logout</span>
              </button>
            </form>
            <% } %>
          </div>
        </ul>
      </div>
    </div>
  </nav>
</header>
